{"version":3,"file":"static/js/881.0479d98a.chunk.js","mappings":"4OACA,EAA8B,4B,SCmD9B,EA/Ce,WACb,OAAoCA,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,IAAIT,EAAJ,CACA,IAAMU,EAAQL,EAAaM,IAAI,SAC/B,GAAID,EACaE,EAAAA,EAAAA,gBAA0BF,GAClCG,MAAK,SAAAC,GAAG,OAAIX,GAAgB,OAAIW,EAAIC,KAAKC,SAAjC,GAJK,CAMvB,GAAE,CAAChB,EAAYK,IAahB,OACE,iBAAKY,UAAWC,EAAhB,WACE,kBAAMC,OAAO,GAAGC,SATC,SAAAC,GACnBA,EAAEC,iBACFhB,EAAgB,CAAEI,MAAOV,IACVY,EAAAA,EAAAA,gBAA0BZ,GAClCa,MAAK,SAAAC,GAAG,OAAIX,GAAgB,OAAIW,EAAIC,KAAKC,SAAjC,GAChB,EAIG,WACE,kBAAOO,KAAK,OAAOC,MAAOxB,EAAYyB,SAdxB,SAAAJ,GAClBpB,EAAcoB,EAAEK,OAAOF,MACxB,KAaK,mBAAQD,KAAK,SAAb,uBAEDrB,EAAayB,OAAS,IACrB,wBACGzB,EAAa0B,KAAI,SAAAC,GAAK,OACrB,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAM1B,GAAhD,SACGsB,EAAMK,kBAFFL,EAAME,GADM,QAWhC,C,mCChDKI,EAAU,mCACVC,EAAM,gCACNxB,EAAY,CAChByB,kBAOD,WACG,OAAOC,EAAAA,EAAAA,IAAA,UACFF,EADE,sCAC+BD,GAEzC,EAVCI,gBAYD,SAAyB7B,GACtB,OAAO4B,EAAAA,EAAAA,IAAA,UACFF,EADE,gCACyBD,EADzB,kBAC0CzB,EAD1C,8CAGV,EAfC8B,gBAiBF,SAAyBC,GACvB,OAAOH,EAAAA,EAAAA,IAAA,UACFF,EADE,iBACUK,EADV,oBAC6BN,EAD7B,mBAGR,EApBCO,aAsBF,SAAsBD,GACpB,OAAOH,EAAAA,EAAAA,IAAA,UACFF,EADE,iBACUK,EADV,4BACqCN,EADrC,mBAGR,EAzBCQ,gBA2BF,SAAyBF,GACvB,OAAOH,EAAAA,EAAAA,IAAA,UACFF,EADE,iBACUK,EADV,4BACqCN,EADrC,mBAGR,GAED,K","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/fetchMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movies-page\":\"Movies_movies-page__QU3Qu\"};","import { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport GetMovies from 'services/fetchMovies';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [inputValue, setInputValue] = useState('');\n  const [moviesSearch, setMoviesSearch] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (inputValue) return;\n    const query = searchParams.get('query');\n    if (query) {\n      const movies = GetMovies.getMoviesSearch(query);\n      movies.then(obj => setMoviesSearch([...obj.data.results]));\n    }\n  }, [inputValue, searchParams]);\n\n  const handleValue = e => {\n    setInputValue(e.target.value);\n  };\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: inputValue });\n    const movies = GetMovies.getMoviesSearch(inputValue);\n    movies.then(obj => setMoviesSearch([...obj.data.results]));\n  };\n\n  return (\n    <div className={css['movies-page']}>\n      <form action=\"\" onSubmit={onFormSubmit}>\n        <input type=\"text\" value={inputValue} onChange={handleValue} />\n        <button type=\"submit\">Search</button>\n      </form>\n      {moviesSearch.length > 0 && (\n        <ul>\n          {moviesSearch.map(movie => (\n            <li key={movie.id}>\n              <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                {movie.original_title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst API_KEY = '57ffb78434af41b6f3367e52cfbaed8d';\nconst URL = 'https://api.themoviedb.org/3/';\nconst GetMovies = {\n  getMoviesTrending,\n  getMoviesSearch,\n  getMovieDetails,\n  getMovieCast,\n  getMovieReviews,\n};\n\n function getMoviesTrending() {\n    return axios.get(\n      `${URL}trending/movie/day?api_key=${API_KEY}`\n    );\n}\n\n function getMoviesSearch(query) {\n    return axios.get(\n      `${URL}search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n    );\n}\n\nfunction getMovieDetails(movieId) {\n  return axios.get(\n    `${URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nfunction getMovieCast(movieId) {\n  return axios.get(\n    `${URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nfunction getMovieReviews(movieId) {\n  return axios.get(\n    `${URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n}\n\nexport default GetMovies;"],"names":["useState","inputValue","setInputValue","moviesSearch","setMoviesSearch","useSearchParams","searchParams","setSearchParams","location","useLocation","useEffect","query","get","GetMovies","then","obj","data","results","className","css","action","onSubmit","e","preventDefault","type","value","onChange","target","length","map","movie","to","id","state","from","original_title","API_KEY","URL","getMoviesTrending","axios","getMoviesSearch","getMovieDetails","movieId","getMovieCast","getMovieReviews"],"sourceRoot":""}